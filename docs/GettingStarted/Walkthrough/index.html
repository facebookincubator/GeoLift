<!doctype html>
<html class="docs-version-current" lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/GeoLift/blog/rss.xml" title="GeoLift RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/GeoLift/blog/atom.xml" title="GeoLift Atom Feed"><title data-react-helmet="true">GeoLift Walkthrough | GeoLift</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://facebookincubator.github.io//GeoLift/docs/GettingStarted/Walkthrough"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="GeoLift Walkthrough | GeoLift"><meta data-react-helmet="true" name="description" content="---"><meta data-react-helmet="true" property="og:description" content="---"><link data-react-helmet="true" rel="icon" href="/GeoLift/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://facebookincubator.github.io//GeoLift/docs/GettingStarted/Walkthrough"><link data-react-helmet="true" rel="alternate" href="https://facebookincubator.github.io//GeoLift/docs/GettingStarted/Walkthrough" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://facebookincubator.github.io//GeoLift/docs/GettingStarted/Walkthrough" hreflang="x-default"><link rel="stylesheet" href="/GeoLift/assets/css/styles.db823e0d.css">
<link rel="preload" href="/GeoLift/assets/js/runtime~main.9f218497.js" as="script">
<link rel="preload" href="/GeoLift/assets/js/main.efbba275.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/GeoLift/"><div class="navbar__logo"><img src="/GeoLift/img/logo.svg" alt="GeoLift Logo" class="themedImage_1VuW themedImage--light_3UqQ"><img src="/GeoLift/img/logo.svg" alt="GeoLift Logo" class="themedImage_1VuW themedImage--dark_hz6m"></div><b class="navbar__title">GeoLift</b></a><a class="navbar__item navbar__link navbar__link--active" href="/GeoLift/docs/intro">Documentation</a><a class="navbar__item navbar__link" href="/GeoLift/Successes">Success Cases</a><a class="navbar__item navbar__link navbar__link--active" href="/GeoLift/docs/About">About</a><a class="navbar__item navbar__link" href="/GeoLift/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/facebookincubator/GeoLift/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="toggle_71bT toggle_3Zt9 toggleDisabled_3cF-"><div class="toggleTrack_32Fl" role="button" tabindex="-1"><div class="toggleTrackCheck_3lV7"><span class="toggleIcon_O4iE">üåú</span></div><div class="toggleTrackX_S2yS"><span class="toggleIcon_O4iE">üåû</span></div><div class="toggleTrackThumb_xI_Z"></div></div><input type="checkbox" class="toggleScreenReader_28Tw" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper docs-doc-page"><div class="docPage_31aa"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_35hR" type="button"></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/GeoLift/docs/intro">Welcome to GeoLift</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active hasHref_2fq0" href="/GeoLift/docs/GettingStarted/InstallingR">Getting Started</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GeoLift/docs/GettingStarted/InstallingR">Getting Started with GeoLift</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/GeoLift/docs/GettingStarted/Walkthrough">GeoLift Walkthrough</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/GeoLift/docs/GettingStarted/MultiCellWalkthrough">Multi-Cell Walkthrough</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link hasHref_2fq0" href="/GeoLift/docs/Methodology/">Methodology</a><button aria-label="Toggle the collapsible sidebar category &#x27;Methodology&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist hasHref_2fq0" href="/GeoLift/docs/Best Practices/BestPractices">Best Practices</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/GeoLift/docs/About">About GeoLift</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD theme-doc-toc-mobile tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>GeoLift Walkthrough</h1></header><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="1-data-and-r-environment">1. Data and R Environment<a class="hash-link" href="#1-data-and-r-environment" title="Direct link to heading">‚Äã</a></h2><h3 class="anchor anchorWithStickyNavbar_31ik" id="set-up-of-the-r-environment">Set-up of the R Environment<a class="hash-link" href="#set-up-of-the-r-environment" title="Direct link to heading">‚Äã</a></h3><p>After installing the <code>GeoLift</code> package, it&#x27;s important to load it into our R session.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">library(GeoLift)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3 class="anchor anchorWithStickyNavbar_31ik" id="data">Data<a class="hash-link" href="#data" title="Direct link to heading">‚Äã</a></h3><p>To show an end-to-end implementation of GeoLift we will use simulated
data of 40 US cities across 90 days to: design a test, select test
markets, run power calculations, and finally calculate the Lift caused
by the campaign. As with every GeoLift test, we start analyzing pre-test
historical information. We will use the data included in the <code>GeoLift</code>
package.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">data(GeoLift_PreTest)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The <code>GeoLift_PreTest</code> data set contains three variables:</p><ol><li>location (city)</li><li>date (in ‚Äúyyyy-mm-dd‚Äù format)</li><li>Y (number of conversions/KPI in each day/location).</li></ol><p>Every GeoLift experiment should contain at least these three variables
that reflect when, where, and how much of the KPI was measured.
Nevertheless, if you have more data available, you can include
covariates to GeoLift to improve our results through the <code>X</code> parameter
of all GeoLift functions.</p><p>The first step to run a <code>GeoLift</code> test is to read the data into the
proper format using the <code>GeoDataRead</code> function.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GeoTestData_PreTest &lt;- GeoDataRead(data = GeoLift_PreTest,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        date_id = &quot;date&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        location_id = &quot;location&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        X = c(), #empty list as we have no covariates</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        format = &quot;yyyy-mm-dd&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        summary = TRUE)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####       Summary       #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Raw Number of Locations: 40</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Time Periods: 90</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Final Number of Locations (Complete): 40</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    head(GeoTestData_PreTest)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;   location time    Y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 1  atlanta    1 3384</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 2  atlanta    2 3904</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 3  atlanta    3 5734</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 4  atlanta    4 4311</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 5  atlanta    5 3686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 6  atlanta    6 3374</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This function analyzes the data set, handles locations with missing
data, and returns a data frame with time-stamps instead of dates. In
this case, since we‚Äôre inputting daily data each time unit represents a
day.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="note-before-reading-the-data-into-this-format-always-make-sure-that-there-are-no-missing-variables-nas-or-locations-with-missing-time-stamps-as-those-will-be-dropped-by-the-geodataread-function"><strong>Note:</strong> Before reading the data into this format, always make sure that there are no missing variables, <code>NAs</code>, or locations with missing time-stamps as those will be dropped by the <code>GeoDataRead()</code> function.<a class="hash-link" href="#note-before-reading-the-data-into-this-format-always-make-sure-that-there-are-no-missing-variables-nas-or-locations-with-missing-time-stamps-as-those-will-be-dropped-by-the-geodataread-function" title="Direct link to heading">‚Äã</a></h4><p>A good next step is to plot the panel data with <code>GeoPlot</code> to observe
it‚Äôs trend, contribution per location, and also to detect any data
anomalies before moving on to the data analysis.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">GeoPlot(GeoTestData_PreTest,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        time_id = &quot;time&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        location_id = &quot;location&quot;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="GeoPlot" src="/GeoLift/assets/images/plotting-1-0d1f64563c83d1403741ec5e032577b0.png"></p><p>In this case we see a similar pattern that‚Äôs shared across all
locations. These structural similarities between regions are the key to
a successful test!</p><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="2-power-analysis">2. Power Analysis<a class="hash-link" href="#2-power-analysis" title="Direct link to heading">‚Äã</a></h2><p>Running a prospective power analysis is fundamental prior to executing a
test. It is only through a thorough statistical analysis of our data
that we can set it up for success. In general, through the power
analysis we can find:</p><ul><li><p>The optimal number of test locations.</p></li><li><p>Best test duration.</p></li><li><p>Select the ideal test and control markets.</p></li><li><p>Get a good estimate of the budget needed to run the test.</p></li><li><p>Determine which is the Minimum Detectable Effect to obtain
significant results.</p></li><li><p>Align expectations.</p></li></ul><p>Assessing the power and selecting the test markets for a GeoLift test
can be accomplished through the <code>GeoLiftMarketSelection()</code> function.
Through a series of simulations, this algorithm will find which are the
best combinations of test and control locations for the experiment.
Moreover, for each of these test market selections, the function will
display the Minimum Detectable Effect, minimum investment needed to run
a successful test, and other important model-fit metrics that will help
us select the test that best matches our goals and resources.</p><p>The key parameters needed to run this function are:</p><ul><li><p><code>data</code>: A data frame containing the historical conversions by
geographic unit. This object must contain at least a ‚Äúlocation‚Äù
column with the geo name, a ‚ÄúY‚Äù column with the outcome data (such
as units), a ‚Äútime‚Äù column with the indicator of the time period
(starting at 1), and covariates (if available). Using the data frame
generated by <code>GeoDataRead()</code> is the best way to make sure we have
the correct format. For this example, we will use
<code>GeoTestData_PreTest</code>.</p></li><li><p><code>treatment_periods</code>: List of treatment periods to calculate power
for. If we‚Äôre unsure of the ideal test duration, we can specify and
assess the power of different durations. The ideal test length
heavily depends on the product and vertical we are working with.
Nevertheless, a good rule of thumb when deciding duration is to make
sure that the test period can contain <strong>at least</strong> one full purchase
cycle. Given that we have daily data in our example, we will analyze
the power of 10 and 15-day tests by setting this parameter to
<code>c(10,15)</code>.</p></li><li><p><code>N</code>: List of number of test markets to calculate power for. The
values in this list represent the different test-market sizes we
want to explore. This parameter is often guided by the budget and
scope of the test we want to implement. For our example, we will
analyze smaller tests with two, three, and four test markets (the
remaining would be part of the control). We will do so by setting
this parameter to <code>c(2,3,4)</code>.</p></li><li><p><code>X</code> (Optional): List of the names of the covariates in the <code>data</code>.
In our example we don‚Äôt have any covariates so we‚Äôll leave it empty.</p></li><li><p><code>Y_id</code>, <code>location_id</code>, and <code>time_id</code>: Names of the outcome,
location, and time variables (String). These parameters will let our
function know are the names of these variables in our data frame. If
left empty, this parameter will default to the defaults of
<code>GeoDataRead()</code> which are: <code>Y</code>, <code>location</code>, and <code>time</code>.</p></li><li><p><code>effect_size</code>: This parameter contains a vector of different effect
sizes (or lifts) we want to simulate. Since these are relative
values, they do depend on the product and vertical we‚Äôre analyzing.
For instance, while a small single-digit percent increase in volume
for a retailer can translate to millions of units, a large lift
might be required for an automotive company that sells fewer
products per day. By default this parameter is set to a sequence of
lifts between 0 and 25 percent with 5% increments, that is,
<code>seq(0,0.25,0.05)</code>.</p></li><li><p><code>lookback_window</code>: A number indicating how far back in time the
simulations for the power analysis should go. For instance, a value
equal to 5 would simulate power for the last five possible tests. In
general, when the historical data is stable (it doesn‚Äôt vary wildly
from one day/region to another) we can obtain a very robust and
reliable power analysis by just looking into the most recent
possible test (in other words, <code>lookback_window = 1</code>). It is
important to mention that increasing the values in this parameter
can significantly increase the algorithm‚Äôs run-time.</p></li><li><p><code>include_markets</code>: A list of markets or locations that should be
part of the test group. Assuming that we need to have Chicago as
part of our test regions, we will set this parameter to
<code>include_markets = c(&quot;chicago&quot;)</code>. Make sure the spelling of
locations in this lists matches with the data.</p></li><li><p><code>exclude_markets</code>: A list of markets or locations that won‚Äôt be
considered for the test market selection, but will remain in the
pool of controls. In our example, we will set
<code>exclude_markets = c(&quot;honolulu&quot;)</code> to make sure that only cities in
the continental US will be part of the test group. As with
<code>include_locations</code>, always make sure the spelling of locations in
this lists matches with the data.</p></li><li><p><code>holdout</code>: A vector with two values: the first one the smallest
desirable holdout and the second the largest desirable holdout. The
holdout represents the share of conversions from markets that will
not see our ad campaign. In our example, will specify that we‚Äôre OK
with a large holdout and will therefore set <code>holdout = c(0.5, 1)</code>.
If this parameter is left empty, all market selections will be
analyzed regardless of their size.</p></li><li><p><code>cpic</code>: Value indicating the Cost Per Incremental Conversion, that
is, on average how much do we typically need to spend to bring one
incremental conversion. CPIC estimates can typically be obtained
from Marketing Mix Models, Conversion Lifts, and previous
experiments/geo-experiments. This value is key to get a good
estimate of the budget that we will need to run a well-powered test.
If there is no reliable information about the Cost Per Incremental
Conversion, the default will be set to <code>cpic = 1</code>, in which case,
the investment results will output the incremental units needed for
a successful test.</p></li><li><p><code>budget</code>: Optional parameter that indicates the maximum budget
available for a GeoLift test. If no budget is provided, all market
selections will be analyzed by the algorithm.</p></li><li><p><code>alpha</code>: This parameter controls the significance Level that will be
used by our model. By default <code>alpha = 0.1</code> which is equivalent to a
90% confidence level.</p></li><li><p><code>model</code>: A string that indicates the outcome model used to augment
the Augmented Synthetic Control Method. Augmentation through a
prognostic function can improve fit and reduce L2 imbalance metrics.
The most common values used are: <code>model = &quot;None&quot;</code> (default) which
won‚Äôt augment the ASCM and <code>model = &quot;Ridge&quot;</code>. More information on
this parameter is given in the <strong>Inference</strong> section of this
walkthrough.</p></li><li><p><code>fixed_effects</code>: A logic flag indicating whether to include unit
Fixed Effects (FE) in the model. Fixed effects are an additional
parameter that we can include into our models which represents a
non-random component in our data. More specifically, in our model
the FE represents the ‚Äúlevel‚Äù of each region‚Äôs time-series across
the data. By adding the FE we effectively remove this level - this
allows our model to focus on explaining the variations from that
level rather than the full value of Y. This is helpful when the
series are stable across time. However, if the series isn‚Äôt stable
(it has large spikes/valleys, has a clear trend, etc.), then it can
actually be a detriment to our model. By default, this parameter is
set to <code>fixed_effects = TRUE</code>. A close inspection of <code>GeoPlot</code>‚Äôs
output combined with knowledge of the data is key to specify this
parameter. In our example, we will set <code>fixed_effects = TRUE</code> given
that we can observe a stable behavior of sales across our markets in
the historical data.</p></li><li><p><code>Correlations</code>: A logic flag indicating whether an additional column
to the output with the correlations between the test regions and
control markets. Given that not all locations in the pool of
controls will contribute meaningfully to create our
counterfactual/synthetic test region, the correlations can be a
great resource to know how representative our test region is which
can inform other analyses such as Marketing Mix Model calibration.
By default this parameter is set to <code>Correlations = FALSE</code>.</p></li><li><p><code>print</code>: print A logic flag indicating whether to print the top
results. Set to TRUE by default.</p></li><li><p><code>parallel</code>: A logic flag indicating whether to use parallel
computing to speed up calculations. Set to TRUE by default.</p></li><li><p><code>parallel_setup</code>: A string indicating parallel workers set-up. Set
to <code>parallel_setup = &quot;sequential&quot;</code> by default but can also be
defined as <code>parallel_setup = &quot;parallel&quot;</code>.</p></li><li><p><code>side_of_test</code>: A string indicating whether confidence will be
determined using a one sided or a two sided test. These are the
following valid values for this parameter:</p><ul><li><code>side_of_test = &quot;two_sided&quot;</code>: The test statistic is the sum of
all treatment effects, i.e. sum(abs(x)). Defualt.</li><li><code>side_of_test = &quot;one_sided&quot;</code>: One-sided test against positive or
negative effects i.e. If the effect being applied is negative,
then defaults to -sum(x). If the effect being applied is
positive, then defaults to sum(x).</li></ul></li></ul><p>Continuing with the example and in order to explore the function‚Äôs
capabilities let‚Äôs assume we have two restrictions: Chicago must be part
of the test markets and we have up to $100,000 to run the test. We can
include these constraints into <code>GeoLiftMarketSelection()</code> with the
<code>include_markets</code> and <code>budget</code> parameters and proceed with the market
selection. Moreover, after observing that the historical KPI values in
<code>GeoPlot()</code> have been stable across time we will proceed with a model
with Fixed Effects. Finally, given a CPIC = $7.50 obtained from a
previous Lift test, a range between two to five test markets, and a
duration between 10 and 15 days we obtain:</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    MarketSelections &lt;- GeoLiftMarketSelection(data = GeoTestData_PreTest,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              treatment_periods = c(10,15),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              N = c(2,3,4,5),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              location_id = &quot;location&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              time_id = &quot;time&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              effect_size = seq(0, 0.5, 0.05),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              lookback_window = 1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              include_markets = c(&quot;chicago&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              exclude_markets = c(&quot;honolulu&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              holdout = c(0.5, 1),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              cpic = 7.50,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              budget = 100000,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              alpha = 0.1,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              Correlations = TRUE,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              fixed_effects = TRUE,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                              side_of_test = &quot;two_sided&quot;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## Setting up cluster.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## Importing functions into cluster.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## Deterministic setup with 2 locations in treatment.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## Deterministic setup with 3 locations in treatment.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## Deterministic setup with 4 locations in treatment.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## Deterministic setup with 5 locations in treatment.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##   ID                                           location duration EffectSize</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 1  1             chicago, cincinnati, houston, portland       15       0.05</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 2  2                                  chicago, portland       15       0.10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 3  3             chicago, cincinnati, houston, portland       10       0.10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 4  4                                  chicago, portland       10       0.10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 5  5                         chicago, houston, portland       10       0.10</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 6  6 chicago, cincinnati, houston, nashville, san diego       15       0.05</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##   Power AvgScaledL2Imbalance Investment   AvgATT Average_MDE ProportionTotal_Y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 1     1            0.1971864   74118.38 159.3627  0.04829913        0.07576405</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 2     1            0.1738778   64563.75 290.0071  0.10117316        0.03306537</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 3     1            0.1966996   99027.75 316.6204  0.09552879        0.07576405</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 4     1            0.1682310   43646.25 300.9401  0.10378013        0.03306537</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 5     1            0.2305628   75389.25 350.3142  0.10502968        0.05797087</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 6     1            0.2699167   95755.50 146.7975  0.04282215        0.09801138</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##   abs_lift_in_zero   Holdout rank correlation</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 1            0.002 0.9242359    1   0.9144814</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 2            0.001 0.9669346    1   0.9321104</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 3            0.004 0.9242359    3   0.9144814</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 4            0.004 0.9669346    3   0.9321104</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 5            0.005 0.9420291    5   0.9139549</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## 6            0.007 0.9019886    6   0.8992280</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The results of the power analysis and market selection provide us with
several key metrics that we can use to select our test market. These
metrics are:</p><ul><li><p><strong>ID</strong>: Numeric ID that identifies a combination of test markets for
a given duration. This variable will be useful to plot the results.</p></li><li><p><strong>location</strong>: Identifies the test locations.</p></li><li><p><strong>duration</strong>: Shows how many time-stamps the test will last for.
Since the data in our example had daily values, we will analyze
whether a 10 or 15 day test is ideal.</p></li><li><p><strong>EffectSize</strong>: The Effect Size represents minimum Lift needed to
have a well-powered test. These values depend on the <code>effect_size</code>
parameter of this function. Therefore, if you see multiple ties
across top candidates for our test markets, then it might be a good
idea to increase the granularity in this parameter (for example to
<code>seq(0, 0.25, 0.01)</code>).</p></li><li><p><strong>Power</strong>: The row‚Äôs average power across all simulations at the
specified <code>Effect Size</code>.</p></li><li><p><strong>AvgScaledL2Imbalance</strong>: The Scaled L2 Imbalance metric is a
goodness of fit metric between 0 and 1 that represents how well the
model is predicting the pre-treatment observed values through the
Synthetic Control. Scaled L2 Imbalance values of 0 show a perfect
match of pre-treatment values. Scaled L2 Imbalance values of 1 show
that the Synthetic Control algorithm is not adding much value beyond
what you could accomplish with a simple average of control locations
(naive model).</p></li><li><p><strong>Investment</strong>: The average investment needed to obtain a
well-powered test given a CPIC.</p></li><li><p><strong>AvgATT</strong>: The ATT is a metric of how many incremental units, on
average, our test markets will have across each time-stamp for the
duration of the test for a given set of test markets, duration, and
Effect Size.</p></li><li><p><strong>Average<!-- -->_<!-- -->MDE</strong>: The average Minimum Detectable Effect across all
simulations.</p></li><li><p><strong>ProportionTotal<!-- -->_<!-- -->Y</strong>: This proportion reflects the fraction of all
conversions that happen in our test regions compared to the
aggregation of all markets. For example, a value of 0.10 would
indicate that our test markets represent 10% of all conversions for
our KPI.</p></li><li><p><strong>abs<!-- -->_<!-- -->lift<!-- -->_<!-- -->in<!-- -->_<!-- -->zero</strong>: This value represents the average estimated
lift our test markets had when we actually simulated a 0% Lift in
conversions. Great test market selections often have values of
abs<!-- -->_<!-- -->lift<!-- -->_<!-- -->in<!-- -->_<!-- -->zero very close to zero.</p></li><li><p><strong>Holdout</strong>: The percent of total conversions in the control
markets. This value is complementary to <strong>ProportionTotal<!-- -->_<!-- -->Y</strong>.</p></li><li><p><strong>rank</strong>: Ranking variable that summarizes the EffectSize, Power,
AvgScaledL2Imbalance, Average<!-- -->_<!-- -->MDE, and abs<!-- -->_<!-- -->lift<!-- -->_<!-- -->in<!-- -->_<!-- -->zero to help
you select the best combination of test markets. The ranking
variable allows for ties.</p></li></ul><p>The results in <code>MarketSelection</code> show that the test markets with the
best ranks are: <code>(chicago, cincinnati, houston, portland)</code> and
<code>(chicago, portland)</code>, both tied at rank 2. We can <code>plot()</code> both of
these results to inspect them further. This plot will show how the
results of the <code>GeoLift()</code> model would look like with the latest
possible test period as well as the test‚Äôs power curve across all
simulations.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Plot for chicago, cincinnati, houston, portland for a 15 day test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    plot(MarketSelections, market_ID = 1, print_summary = FALSE)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="GeoPlot" src="/GeoLift/assets/images/GeoLiftMarketSelection_Plots-1-133173a803c2a999d6cba11395c67ae9.png"></p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Plot for chicago, portland for a 15 day test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    plot(MarketSelections, market_ID = 2, print_summary = FALSE)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="GeoPlot" src="/GeoLift/assets/images/GeoLiftMarketSelection_Plots-2-4e5ddf09c1bad430aed31592b92e3179.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="power-output---deep-dive-into-power-curves">Power output - deep dive into power curves<a class="hash-link" href="#power-output---deep-dive-into-power-curves" title="Direct link to heading">‚Äã</a></h3><p>In order to ensure that power is consistent throughout time for these
locations, we can run more than 1 simulation for each of the top
contenders that came out of <code>GeoLiftMarketSelection</code>.</p><p>We will do this by running the <code>GeoLiftPower</code> method and expanding our
<code>lookback_window</code> to 7 days, only for this treatment combination and
plot their results.</p><h4 class="anchor anchorWithStickyNavbar_31ik" id="note-you-could-repeat-this-process-for-the-top-5-treatment-combinations-that-come-out-of-geoliftmarketselection-with-increased-lookback-windows-and-compare-their-power-curves-we-will-do-it-only-for-chicago-and-portland-here">NOTE: You could repeat this process for the top 5 treatment combinations that come out of GeoLiftMarketSelection, with increased lookback windows and compare their power curves. We will do it only for Chicago and Portland here.<a class="hash-link" href="#note-you-could-repeat-this-process-for-the-top-5-treatment-combinations-that-come-out-of-geoliftmarketselection-with-increased-lookback-windows-and-compare-their-power-curves-we-will-do-it-only-for-chicago-and-portland-here" title="Direct link to heading">‚Äã</a></h4><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">market_id = 2</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">market_row &lt;- MarketSelections$BestMarkets %&gt;% dplyr::filter(ID == market_id)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">treatment_locations &lt;- stringr::str_split(market_row$location, &quot;, &quot;)[[1]]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">treatment_duration &lt;- market_row$duration</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">lookback_window &lt;- 7</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">power_data &lt;- GeoLiftPower(</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  data = GeoTestData_PreTest,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  locations = treatment_locations,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  effect_size = seq(-0.25, 0.25, 0.01),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  lookback_window = lookback_window,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  treatment_periods = treatment_duration,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  cpic = 7.5,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  side_of_test = &quot;two_sided&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#&gt; Setting up cluster.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#&gt; Importing functions into cluster.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">plot(power_data, show_mde = TRUE, smoothed_values = FALSE, breaks_x_axis = 5) +</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    labs(caption = unique(power_data$location))</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="GeoLiftPowerTopContenders" src="/GeoLift/assets/images/GeoLiftPower-top-contenders-1-c71f25e5e6c8974f9665a122206db846.png"></p><p>While both market selections perform excellent on all metrics, we will
move further with the latter since it allows us to run a successful test
with a smaller budget. Finally, changing the <code>print_summary</code> parameter
of <code>plot()</code> to <code>TRUE</code> can provide us with additional information about
this market selection.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Plot for chicago, portland for a 15 day test</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    plot(MarketSelections, market_ID = 2, print_summary = TRUE)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## #####   GeoLift Simulation   #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ####  Simulating: 10% Lift  ####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## GeoLift Results Summary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## #####     Test Statistics    #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Average ATT: 290.007</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Percent Lift: 10.1%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Incremental Y: 8700</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * P-value: 0</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## #####   Balance Statistics   #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * L2 Imbalance: 868.598</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Scaled L2 Imbalance: 0.1739</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Percent improvement from naive model: 82.61%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Average Estimated Bias: NA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## #####     Model Weights      #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Prognostic Function: NONE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ## * Model Weights:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * cincinnati: 0.2429</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * miami: 0.2056</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * baton rouge: 0.1511</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * honolulu: 0.0669</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * dallas: 0.0644</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * nashville: 0.0641</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * minneapolis: 0.0619</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * san diego: 0.0394</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * houston: 0.0292</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * austin: 0.0237</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * new york: 0.0216</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * los angeles: 0.0179</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    ##  * reno: 0.0113</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="GeoPlot" src="/GeoLift/assets/images/GeoLiftMarketSelection_Plot2-1-c14a0cfa3e01ffce89e257496ca58e7e.png"></p><h4 class="anchor anchorWithStickyNavbar_31ik" id="note-given-that-we-are-not-using-the-complete-pre-treatment-data-to-calculate-the-weights-in-our-power-analysis-simulations-the-ones-displayed-by-the-plotting-function-above-are-not-the-final-values-however-you-can-easily-obtain-them-with-the-getweights-function"><strong>Note:</strong> Given that we are not using the complete pre-treatment data to calculate the weights in our power analysis simulations, the ones displayed by the plotting function above are not the <em>final</em> values. However, you can easily obtain them with the <code>GetWeights()</code> function.<a class="hash-link" href="#note-given-that-we-are-not-using-the-complete-pre-treatment-data-to-calculate-the-weights-in-our-power-analysis-simulations-the-ones-displayed-by-the-plotting-function-above-are-not-the-final-values-however-you-can-easily-obtain-them-with-the-getweights-function" title="Direct link to heading">‚Äã</a></h4><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    weights &lt;- GetWeights(Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                          location_id = &quot;location&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                          time_id = &quot;time&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                          data = GeoTestData_PreTest,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                          locations = c(&quot;chicago&quot;, &quot;portland&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                          pretreatment_end_time = 90,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                          fixed_effects = TRUE)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; One outcome and one treatment time found. Running single_augsynth.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    # Top weights</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    head(dplyr::arrange(weights, desc(weight)))</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;      location     weight</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 1  cincinnati 0.22717797</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 2       miami 0.20276981</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 3 baton rouge 0.13353743</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 4 minneapolis 0.08997973</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 5      dallas 0.07392298</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 6   nashville 0.06853184</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h2 class="anchor anchorWithStickyNavbar_31ik" id="3-analyzing-the-test-results">3. Analyzing the Test Results<a class="hash-link" href="#3-analyzing-the-test-results" title="Direct link to heading">‚Äã</a></h2><p>Based on the results of the Power Calculations, a test is set-up in
which a 15-day marketing campaign will be executed in the cities of
Chicago and Portland while the rest of the locations will be put on
holdout. Following the completion from this marketing campaign, we
receive sales data that reflects these results. This new data-set
contains the same format and information as the pre-test one but
crucially includes results for the duration of the campaign. Depending
on the vertical and product, adding a post-campaign cooldown period
might be useful.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="test-data">Test Data<a class="hash-link" href="#test-data" title="Direct link to heading">‚Äã</a></h3><p>Data for the campaign results can be accessed at <code>GeoLift_Test</code>.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">data(GeoLift_Test)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Similarly to the process executed at the beginning of the Power Analysis
phase, we read the data into GeoLift‚Äôs format using the <code>GeoDataRead</code>
function. You can observe in the summary output that additional 15
periods are contained in the new GeoLift data object.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GeoTestData_Test &lt;- GeoDataRead(data = GeoLift_Test,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        date_id = &quot;date&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        location_id = &quot;location&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        X = c(), #empty list as we have no covariates</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        format = &quot;yyyy-mm-dd&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                                        summary = TRUE)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####       Summary       #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Raw Number of Locations: 40</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Time Periods: 105</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Final Number of Locations (Complete): 40</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">``` r</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    head(GeoTestData_Test)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;   location time    Y</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 1  atlanta    1 3384</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 2  atlanta    2 3904</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 3  atlanta    3 5734</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 4  atlanta    4 4311</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 5  atlanta    5 3686</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 6  atlanta    6 3374</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The results can also be plotted using the <code>GeoPlot</code> function. However,
for post-campaign data we can include the time-stamp at which the
campaign started through the <code>treatment_start</code> parameter to clearly
separate the two periods. Plotting the time-series is always useful to
detect any anomalies with the data and to start noticing patterns with
the test.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">GeoPlot(GeoTestData_Test,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        time_id = &quot;time&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        location_id = &quot;location&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        treatment_start = 91)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="GeoPlotTestData" src="/GeoLift/assets/images/plottingTest-1-1060f6c15cd003a349bec241ee382388.png"></p><h3 class="anchor anchorWithStickyNavbar_31ik" id="geolift-inference">GeoLift Inference<a class="hash-link" href="#geolift-inference" title="Direct link to heading">‚Äã</a></h3><p>The next step in the process is to calculate the actual Lift caused by
the marketing campaigns on our test locations. To do so we make use of
the <code>GeoLift()</code> function, which will take as input the GeoLift dataframe
as well as information about the test such as which were the cities in
the treatment group, when the test started, and when it ended through
the <code>locations</code>, <code>treatment_start_time</code>, and <code>treatment_end_time</code>
parameters respectively.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GeoTest &lt;- GeoLift(Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        data = GeoTestData_Test,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        locations = c(&quot;chicago&quot;, &quot;portland&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        treatment_start_time = 91,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                        treatment_end_time = 105)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GeoTest</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; One outcome and one treatment time found. Running single_augsynth.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; GeoLift Output</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Test results for 15 treatment periods, from time-stamp 91 to 105 for test markets:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 1 CHICAGO</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 2 PORTLAND</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####     Test Statistics    #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Percent Lift: 5.4%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Incremental Y: 4667</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Average Estimated Treatment Effect (ATT): 155.556</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; The results are significant at a 95% level. (TOTAL)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; There is a 0.6% chance of observing an effect this large or larger assuming treatment effect is zero.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The results show that the campaigns led to a 5.4% lift in units sold
corresponding to 4667 incremental units for this 15-day test. Moreover,
the Average Estimated Treatment Effect is of 155.556 units every day of
the test. Most importantly, we observe that these results are
statistically significant at a 95% level. In fact, there‚Äôs only a 1.1%
chance of observing an effect of this magnitude or larger if the actual
treatment effect was zero. In other words, it is extremely unlikely that
these results are just due to chance. To dig deeper into the results, we
can run the <code>summary()</code> of our <code>GeoLift</code> object.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    summary(GeoTest)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; GeoLift Results Summary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####     Test Statistics    #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Average ATT: 155.556</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Percent Lift: 5.4%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Incremental Y: 4667</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * P-value: 0.01</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####   Balance Statistics   #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * L2 Imbalance: 909.489</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Scaled L2 Imbalance: 0.1636</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Percent improvement from naive model: 83.64%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Average Estimated Bias: NA</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####     Model Weights      #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Prognostic Function: NONE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Model Weights:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * austin: 0.0465</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * baton rouge: 0.1335</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * cincinnati: 0.2272</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * dallas: 0.0739</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * honolulu: 0.0673</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * houston: 0.0046</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * miami: 0.2028</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * minneapolis: 0.09</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * nashville: 0.0685</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * new york: 0.0046</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * reno: 0.0306</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * san antonio: 0.0054</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * san diego: 0.0451</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>The summary show additional test statistics such as the p-value which
was equal to 0.01 confirming the highly statistical significance of
these results. Moreover, the summary function provides Balance
Statistics which display data about our model‚Äôs fit. The main metric of
model fit used in GeoLift is the L2 Imbalance which represents how far
our synthetic control was from the actual observed values in the
pre-treatment period. That is, how similar the synthetic Chicago +
Portland unit we crated is from the observed values of these cities in
the period before the intervention. A small L2 Imbalance score means
that our model did a great job replicating our test locations while a
large one would indicate a poor fit. However, the L2 Imabalnce metric is
scale-dependent, meaning that it can‚Äôt be compared between models with
different KPIs or number of testing periods. For instance, the L2
Imbalance of a model run on grams of units sold will be significantly
larger than a model ran for tons of product sold even if they represent
the same basic underlying metric.</p><p>Therefore, given that it‚Äôs hard to tell whether the model had a good or
poor fit by simply looking at the value of the L2 Imbalance metric, we
also included the Scaled L2 Imbalance stat which is easier to interpret
as it‚Äôs bounded in the range between 0 and 1. A value close to zero
represents a good model fit while values nearing 1 indicate a poor
performance by the Synthetic Control Model. This scaling is accomplished
by comparing the Scaled L2 Imbalance of our Synthetic Control Method
with the Scaled L2 Imbalance obtained by a baseline/naive model (instead
of carefully calculating which is the optimal weighting scheme for the
Synthetic Control, we assign equal weights to each unit in the donor
pool). The latter provides an upper bound of L2 Imbalance, therefore,
the Scaled L2 Imbalance shows us how much better our GeoLift model is
from the baseline.</p><p>In fact, another way to look at the Scaled L2 Imbalance is the percent
improvement from a naive model which can be obtained by subtracting our
model‚Äôs Scaled L2 Imbalance from 100%. In this case, an improvement
close to 100% (which corresponds to a Scaled L2 Imbalance close to zero)
represents a good model fit. Finally, we also include the weights that
generate our Synthetic Control. In this test we note that the locations
that contribute the most to our GeoLift model are Cincinnati, Miami, and
Baton Rouge.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    plot(GeoTest, type = &quot;Lift&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; You can include dates in your chart if you supply the end date of the treatment. Just specify the treatment_end_date parameter.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="LiftPlot" src="/GeoLift/assets/images/plot_Lift-1-b33acf10d1530831781c70a1e69ee015.png"></p><p>Plotting the results is a great way to assess the model‚Äôs fit and how
effective the campaign was. Taking a close look at the pre-treatment
period (period before the dotted vertical line) provides insight into
how well our Synthetic Control Model fitted our data. In this specific
example, we see that the observed values of the Chicago + Portland test
represented in the solid black line were closely replicated by our SCM
model shown as the dashed red line. Furthermore, looking at the test
period, we can notice the campaign‚Äôs incrementality shown as the
difference between the sales observed in the test markets and our
counterfactual synthetic location. This marked difference between an
almost-exact match in pre-treatment periods and gap in test time-stamps
provides strong evidence of a successful campaign.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    plot(GeoTest, type = &quot;ATT&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; You can include dates in your chart if you supply the end date of the treatment. Just specify the treatment_end_date parameter.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="PlotATT" src="/GeoLift/assets/images/plot_ATT-1-b1127818bbbb00e9ecc2eb73c7db8683.png"></p><p>Looking at the Average Estimated Treatment Effect‚Äôs plot can also be
extremely useful. The ATT metric shows us the magnitude of the Average
Treatment Effect on a daily basis in contrast with the previous (Lift)
plot which focused on aggregated effects. Moreover, this is a great
example of a good GeoLift model as it has very small ATT values in the
pre-treatment period and large ones when the treatment is administered
to our test locations. Moreover, point-wise confidence intervals are
included in this chart which help us measure how significant each day‚Äôs
Lift has been.</p><h3 class="anchor anchorWithStickyNavbar_31ik" id="improving-the-model">Improving The Model<a class="hash-link" href="#improving-the-model" title="Direct link to heading">‚Äã</a></h3><p>While the results obtained from the test are robust and highly
significant, a useful feature of GeoLift is its ability to improve the
model fit even further and reduce bias through augmentation by a
prognostic function. There are several options for augmentation of the
standard GeoLift model such as regularization (specifically Ridge) and
an application of Generalized Synthetic Control Model (GSC). While each
of these approaches provide it‚Äôs own set of advantages, for instance
Ridge regularization usually performs well when the number of units and
time-periods isn‚Äôt large while GSC helps improve fit for situations with
many pre-treatment periods, GeoLift offers the option to let the model
decide which is the best approach by setting the model parameter to
‚Äúbest‚Äù.</p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    GeoTestBest &lt;- GeoLift(Y_id = &quot;Y&quot;,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            data = GeoTestData_Test,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            locations = c(&quot;chicago&quot;, &quot;portland&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            treatment_start_time = 91,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            treatment_end_time = 105,</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">                            model = &quot;best&quot;)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; One outcome and one treatment time found. Running single_augsynth.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; One outcome and one treatment time found. Running single_augsynth.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; One outcome and one treatment time found. Running single_augsynth.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; One outcome and one treatment time found. Running single_augsynth.</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; GeoLift Output</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Test results for 15 treatment periods, from time-stamp 91 to 105 for test markets:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 1 CHICAGO</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; 2 PORTLAND</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####     Test Statistics    #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Percent Lift: 5.5%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Incremental Y: 4704</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; Average Estimated Treatment Effect (ATT): 156.805</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; The results are significant at a 95% level. (TOTAL)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; There is a 1.4% chance of observing an effect this large or larger assuming treatment effect is zero.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    summary(GeoTestBest)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; GeoLift Results Summary</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####     Test Statistics    #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Average ATT: 156.805</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Percent Lift: 5.5%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Incremental Y: 4704</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * P-value: 0.01</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####   Balance Statistics   #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * L2 Imbalance: 903.525</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Scaled L2 Imbalance: 0.1626</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Percent improvement from naive model: 83.74%</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Average Estimated Bias: -1.249</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; #####     Model Weights      #####</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; ##################################</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Prognostic Function: RIDGE</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; * Model Weights:</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * atlanta: 3e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * austin: 0.0467</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * baltimore: 1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * baton rouge: 0.1337</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * boston: -4e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * cincinnati: 0.2273</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * columbus: 1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * dallas: 0.0741</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * denver: 1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * detroit: 1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * honolulu: 0.0674</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * houston: 0.0048</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * indianapolis: 1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * jacksonville: -1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * kansas city: -1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * los angeles: 2e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * memphis: -2e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * miami: 0.2029</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * milwaukee: -2e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * minneapolis: 0.0901</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * nashville: 0.0687</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * new orleans: -2e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * new york: 0.0048</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * oakland: -0.001</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * oklahoma city: -7e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * orlando: 1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * philadelphia: -4e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * reno: 0.0308</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * saint paul: 2e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * salt lake city: -3e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * san antonio: 0.0056</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * san diego: 0.0452</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * san francisco: 1e-04</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt;  * tucson: -1e-04</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    plot(GeoTestBest, type = &quot;Lift&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; You can include dates in your chart if you supply the end date of the treatment. Just specify the treatment_end_date parameter.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="PlotLiftBest" src="/GeoLift/assets/images/GeoLiftBest-1-b767a570c58afd1c56ada42c338d2715.png"></p><div class="codeBlockContainer_K1bP language-r theme-code-block"><div class="codeBlockContent_hGly r"><pre tabindex="0" class="prism-code language-r codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token plain">    plot(GeoTestBest, type = &quot;ATT&quot;)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    #&gt; You can include dates in your chart if you supply the end date of the treatment. Just specify the treatment_end_date parameter.</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img alt="PlotATTBest" src="/GeoLift/assets/images/GeoLiftBest-2-86798de1feb9f6536e5cf8ae73e7d4e0.png"></p><p>The new results augment the GeoLift model with a Ridge prognostic
function which improves the model fit as seen in the new L2 Imbalance
metrics. This additional robustness is translated in a small increase in
the Percent Lift. Furthermore, by augmenting the model with a prognostic
function, we have an estimate of the estimated bias that was removed by
the Augmented Synthetic Control Model.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/facebookincubator/GeoLift/docs/GettingStarted/Walkthrough.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_13-_"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/GeoLift/docs/GettingStarted/InstallingR"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Getting Started with GeoLift</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/GeoLift/docs/GettingStarted/MultiCellWalkthrough"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multi-Cell Walkthrough</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#1-data-and-r-environment" class="table-of-contents__link toc-highlight">1. Data and R Environment</a><ul><li><a href="#set-up-of-the-r-environment" class="table-of-contents__link toc-highlight">Set-up of the R Environment</a></li><li><a href="#data" class="table-of-contents__link toc-highlight">Data</a></li></ul></li><li><a href="#2-power-analysis" class="table-of-contents__link toc-highlight">2. Power Analysis</a><ul><li><a href="#power-output---deep-dive-into-power-curves" class="table-of-contents__link toc-highlight">Power output - deep dive into power curves</a></li></ul></li><li><a href="#3-analyzing-the-test-results" class="table-of-contents__link toc-highlight">3. Analyzing the Test Results</a><ul><li><a href="#test-data" class="table-of-contents__link toc-highlight">Test Data</a></li><li><a href="#geolift-inference" class="table-of-contents__link toc-highlight">GeoLift Inference</a></li><li><a href="#improving-the-model" class="table-of-contents__link toc-highlight">Improving The Model</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Learn</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/GeoLift/docs/intro">Documentation</a></li><li class="footer__item"><a href="https://www.facebookblueprint.com/student/path/253063-geolift-marketing-measurement?sid=cd9a46bc-9685-4af4-8ac3-4482e858fba9&amp;sid_i=5" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Blueprint Course<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a class="footer__link-item" href="/GeoLift/Successes">Success Cases</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://www.facebook.com/groups/fbgeolift" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://www.youtube.com/channel/UCzkuhQFBCHz9TxzUXlNUINg" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/GeoLift/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebookincubator/GeoLift/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/data-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Data Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/cookie-policy/" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Cookie Policy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://opensource.facebook.com" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/GeoLift/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/GeoLift/img/oss_logo.png" alt="Facebook Open Source Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2022 Facebook, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/GeoLift/assets/js/runtime~main.9f218497.js"></script>
<script src="/GeoLift/assets/js/main.efbba275.js"></script>
</body>
</html>